ext {
  scalaVersionMain = "2.11"
  scalaVersion = "2.11.7"
  finatraVersion = "2.5.0"
  swaggerVersion = "1.5.10"
  swaggerUIVersion = "2.2.6"
}

println("Scala Version: ${scalaVersion}")
println("Scala Version Main: ${scalaVersionMain}")
println("Finatra Version: ${finatraVersion}")

apply plugin: 'scala'

repositories {
  mavenLocal()
  mavenCentral()

  maven { url "http://maven.twttr.com" }
}

dependencies {
  compile "org.scala-lang:scala-library:${scalaVersion}",
          "io.swagger:swagger-core:${swaggerVersion}",
          "io.swagger:swagger-scala-module_${scalaVersionMain}:1.0.2",
          "org.webjars:swagger-ui:${swaggerUIVersion}"

  testCompile "org.scalatest:scalatest_${scalaVersionMain}:2.2.6",
              'joda-time:joda-time:2.9.4'

  compile "com.twitter:finatra-http_${scalaVersionMain}:${finatraVersion}"
}

compileJava {
  targetCompatibility = "1.8"
}

tasks.withType(ScalaCompile) {
  scalaCompileOptions.useAnt = false
}

task wrapper(type: Wrapper) {
  gradleVersion = '2.14'
}

apply from: 'publish.gradle'

task runSampleApp(type: JavaExec, description: 'Run the default sample application.') {
  classpath sourceSets.test.runtimeClasspath
  main = "com.github.xiaodongw.swagger.finatra.SampleApp"
}

task runVersionedApp(type: JavaExec, description: 'Run the versioned sample application.') {
  classpath sourceSets.test.runtimeClasspath
  main = "com.github.xiaodongw.swagger.finatra.VersionedApp"
}


